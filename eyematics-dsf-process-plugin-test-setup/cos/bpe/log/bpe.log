2025-05-23 14:07:21,918 [main] INFO  dev.dsf.tools.db.DbMigrator - Executing DB migration ...
2025-05-23 14:07:22,805 [main] DEBUG dev.dsf.tools.db.DbMigrator - UPDATE SUMMARY
2025-05-23 14:07:22,806 [main] DEBUG dev.dsf.tools.db.DbMigrator - Run:                          0
2025-05-23 14:07:22,806 [main] DEBUG dev.dsf.tools.db.DbMigrator - Previously run:               9
2025-05-23 14:07:22,806 [main] DEBUG dev.dsf.tools.db.DbMigrator - Filtered out:                 0
2025-05-23 14:07:22,806 [main] DEBUG dev.dsf.tools.db.DbMigrator - -------------------------------
2025-05-23 14:07:22,806 [main] DEBUG dev.dsf.tools.db.DbMigrator - Total change sets:            9
2025-05-23 14:07:22,809 [main] INFO  dev.dsf.tools.db.DbMigrator - Executing DB migration [Done]
2025-05-23 14:07:23,146 [main] DEBUG dev.dsf.common.jetty.JettyServer - Java classpath: [lib/camunda-dmn-model-7.22.0.jar, lib/hapi-fhir-validation-resources-r4-5.1.0.jar, lib/camunda-xml-model-7.22.0.jar, lib/jakarta.activation-api-2.1.3.jar, lib/feel-engine-1.17.5-scala-shaded.jar, lib/org.hl7.fhir.r5-5.1.0.jar, lib/spring-jdbc-6.2.5.jar, lib/jersey-entity-filtering-3.1.10.jar, lib/slf4j-api-2.0.17.jar, lib/dsf-common-status-1.7.1.jar, lib/micrometer-observation-1.14.5.jar, lib/asm-commons-9.7.1.jar, lib/jetty-http-11.0.25.jar, lib/dsf-fhir-validation-1.7.1.jar, lib/jaxb-core-4.0.5.jar, lib/jetty-annotations-11.0.25.jar, lib/jakarta.activation-1.2.1.jar, lib/spring-aop-6.2.5.jar, lib/hapi-fhir-validation-5.1.0.jar, lib/jakarta.websocket-client-api-2.1.1.jar, lib/tyrus-core-2.2.0.jar, lib/hapi-fhir-converter-5.1.0.jar, lib/java-jwt-4.5.0.jar, lib/hk2-api-3.0.6.jar, lib/log4j-core-2.24.3.jar, lib/jetty-alpn-client-11.0.25.jar, lib/commons-dbcp2-2.13.0.jar, lib/jackson-core-2.18.3.jar, lib/jetty-util-ajax-11.0.25.jar, lib/tyrus-container-grizzly-client-2.2.0.jar, lib/jcl-over-slf4j-2.0.17.jar, lib/org.hl7.fhir.dstu2-5.1.0.jar, lib/jakarta.validation-api-3.0.2.jar, lib/error_prone_annotations-2.3.3.jar, lib/camunda-engine-dmn-7.22.0.jar, lib/dsf-common-ui-1.7.1.jar, lib/jersey-container-servlet-3.1.10.jar, lib/dsf-common-jetty-1.7.1.jar, lib/org.hl7.fhir.dstu3-5.1.0.jar, lib/jetty-util-11.0.25.jar, lib/txw2-4.0.5.jar, lib/jaxb-runtime-4.0.5.jar, lib/failureaccess-1.0.1.jar, lib/xpp3-1.1.4c.jar, lib/jersey-media-jaxb-3.1.10.jar, lib/jetty-openid-11.0.25.jar, lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar, lib/grizzly-http-server-4.0.2.jar, lib/hapi-fhir-structures-r4-5.1.0.jar, lib/joda-time-2.12.5.jar, lib/jersey-apache-connector-3.1.10.jar, lib/dsf-fhir-webservice-client-1.7.1.jar, lib/dsf-common-auth-1.7.1.jar, lib/camunda-cmmn-model-7.22.0.jar, lib/jetty-client-11.0.25.jar, lib/jackson-module-jakarta-xmlbind-annotations-2.18.3.jar, lib/grizzly-http-4.0.2.jar, lib/grizzly-framework-4.0.2.jar, lib/httpcore-4.4.16.jar, lib/attoparser-2.0.7.RELEASE.jar, lib/hapi-fhir-validation-resources-r5-5.1.0.jar, lib/log4j-slf4j2-impl-2.24.3.jar, lib/jakarta.xml.bind-api-4.0.2.jar, lib/jetty-plus-11.0.25.jar, lib/istack-commons-runtime-4.1.2.jar, lib/commons-collections4-4.4.jar, lib/jetty-webapp-11.0.25.jar, lib/dsf-fhir-rest-adapter-1.7.1.jar, lib/jetty-io-11.0.25.jar, lib/camunda-engine-feel-api-7.22.0.jar, lib/postgresql-42.7.5.jar, lib/bcmail-jdk18on-1.80.jar, lib/bcprov-jdk18on-1.80.jar, lib/spring-context-6.2.5.jar, lib/dsf-bpe-server-1.7.1.jar, lib/jackson-annotations-2.18.3.jar, lib/ognl-3.3.4.jar, lib/Saxon-HE-9.5.1-5.jar, lib/j2objc-annotations-2.8.jar, lib/spring-expression-6.2.5.jar, lib/httpclient-4.5.14.jar, lib/hapi-fhir-structures-r5-5.1.0.jar, lib/jersey-common-3.1.10.jar, lib/jakarta.servlet-api-6.0.0.jar, lib/hapi-fhir-base-5.1.0.jar, lib/dsf-common-config-1.7.1.jar, lib/crypto-utils-3.8.0.jar, lib/dsf-common-documentation-1.7.1.jar, lib/spring-tx-6.2.5.jar, lib/caffeine-2.7.0.jar, lib/org.hl7.fhir.validation-5.1.0.jar, lib/asm-tree-9.7.1.jar, lib/tyrus-client-2.2.0.jar, lib/org.hl7.fhir.r4-5.1.0.jar, lib/jetty-xml-11.0.25.jar, lib/jakarta.transaction-api-1.3.3.jar, lib/jersey-client-3.1.10.jar, lib/dsf-tools-build-info-reader-1.7.1.jar, lib/micrometer-commons-1.14.5.jar, lib/jetty-server-11.0.25.jar, lib/hk2-locator-3.0.6.jar, lib/spring-beans-6.2.5.jar, lib/camunda-engine-7.22.0.jar, lib/jersey-server-3.1.10.jar, lib/bcpkix-jdk18on-1.80.jar, lib/camunda-bpmn-model-7.22.0.jar, lib/hk2-utils-3.0.6.jar, lib/jetty-jakarta-servlet-api-5.0.2.jar, lib/thymeleaf-3.1.3.RELEASE.jar, lib/org.hl7.fhir.utilities-5.1.0.jar, lib/checker-qual-3.48.3.jar, lib/commons-io-2.18.0.jar, lib/xpp3_xpath-1.1.4c.jar, lib/dsf-bpe-process-api-v1-1.7.1.jar, lib/jakarta.websocket-api-2.1.1.jar, lib/camunda-commons-logging-7.22.0.jar, lib/jetty-security-11.0.25.jar, lib/jersey-container-servlet-core-3.1.10.jar, lib/spring-web-6.2.5.jar, lib/jakarta.ws.rs-api-3.1.0.jar, lib/dsf-tools-docker-secrets-reader-1.7.1.jar, lib/jakarta.annotation-api-2.1.1.jar, lib/jakarta.inject-api-2.0.1.jar, lib/commons-text-1.13.0.jar, lib/commons-pool2-2.12.0.jar, lib/aopalliance-repackaged-3.0.6.jar, lib/guava-32.1.3-jre.jar, lib/unbescape-1.1.6.RELEASE.jar, lib/asm-9.7.1.jar, lib/commons-lang3-3.17.0.jar, lib/org.hl7.fhir.dstu2016may-5.1.0.jar, lib/dsf-fhir-websocket-client-1.7.1.jar, lib/spring-core-6.2.5.jar, lib/commons-compress-1.27.1.jar, lib/jersey-hk2-3.1.10.jar, lib/opencsv-5.9.jar, lib/javassist-3.30.2-GA.jar, lib/org.hl7.fhir.convertors-5.1.0.jar, lib/java-uuid-generator-4.3.0.jar, lib/jakarta.mail-1.6.7.jar, lib/camunda-engine-feel-juel-7.22.0.jar, lib/liquibase-core-4.31.1.jar, lib/jetty-jndi-11.0.25.jar, lib/spring-jcl-6.2.5.jar, lib/camunda-engine-spring-7.22.0.jar, lib/dsf-tools-db-migration-1.7.1.jar, lib/jersey-media-json-jackson-3.1.10.jar, lib/snakeyaml-2.4.jar, lib/camunda-commons-utils-7.22.0.jar, lib/dsf-fhir-auth-1.7.1.jar, lib/gson-2.12.1.jar, lib/camunda-engine-feel-scala-7.22.0.jar, lib/jul-to-slf4j-2.0.17.jar, lib/jsr305-3.0.2.jar, lib/camunda-juel-7.22.0.jar, lib/commons-codec-1.18.0.jar, lib/dsf-common-db-1.7.1.jar, lib/bcutil-jdk18on-1.80.jar, lib/jackson-databind-2.18.3.jar, lib/jetty-servlet-11.0.25.jar, lib/camunda-commons-typed-values-7.22.0.jar, lib/osgi-resource-locator-1.0.3.jar, lib/log4j-api-2.24.3.jar, lib/jaxb-api-2.3.1.jar, lib/tyrus-spi-2.2.0.jar, lib/mybatis-3.5.15.jar, lib/ucum-1.0.2.jar, lib_external/*, dsf_bpe.jar]
2025-05-23 14:07:23,146 [main] DEBUG dev.dsf.common.jetty.JettyServer - Resources for jetty: [file:///opt/bpe/lib/dsf-bpe-server-1.7.1.jar]
2025-05-23 14:07:23,147 [main] DEBUG dev.dsf.common.jetty.JettyServer - Init parameters: {}
2025-05-23 14:07:23,653 [main] INFO  dev.dsf.common.config.AbstractJettyConfig - OIDC authorization code flow enabled
2025-05-23 14:07:23,654 [main] INFO  dev.dsf.common.config.AbstractJettyConfig - OIDC bearer token enabled
2025-05-23 14:07:23,655 [main] INFO  dev.dsf.common.config.AbstractJettyConfig - OIDC back-channel logout enabled
2025-05-23 14:07:23,874 [main] INFO  dev.dsf.common.auth.ClientCertificateAuthenticator - Using [CN=Test, C=DE] to validate client certificates
2025-05-23 14:07:23,877 [main] INFO  dev.dsf.common.jetty.JettyServer - Starting jetty server ...
2025-05-23 14:07:23,879 [main] INFO  org.eclipse.jetty.server.Server - jetty-11.0.25; built: 2025-03-13T00:15:57.301Z; git: a2e9fae3ad8320f2a713d4fa29bba356a99d1295; jvm 17.0.14+7-LTS
2025-05-23 14:07:23,980 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler.bpe - 1 Spring WebApplicationInitializers detected on classpath
2025-05-23 14:07:23,991 [main] INFO  org.eclipse.jetty.server.session.DefaultSessionIdManager - Session workerName=node0
2025-05-23 14:07:24,094 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler.bpe - Initializing Spring root WebApplicationContext
2025-05-23 14:07:24,298 [main] INFO  dev.dsf.bpe.spring.config.PropertiesConfig - Concurrency config: {process-threads: 20, engine-core-pool: 4, engine-queue: 40, engine-max-pool: 10}
2025-05-23 14:07:24,305 [main] INFO  dev.dsf.common.config.ProxyConfigImpl - Forward proxy config: {url: null, username: null, password: null, no-proxy: []}
2025-05-23 14:07:24,307 [main] INFO  dev.dsf.bpe.spring.config.FhirClientConfig - Local webservice client config: {trustStorePath: /run/secrets/app_client_trust_certificates.pem, certificatePath: /run/secrets/app_cos_client_certificate.pem, privateKeyPath: /run/secrets/app_cos_client_certificate_private_key.pem, privateKeyPassword: ***, url: https://cos/fhir, proxy: disabled}
2025-05-23 14:07:24,308 [main] INFO  dev.dsf.bpe.spring.config.FhirClientConfig - Local websocket client config: {trustStorePath: /run/secrets/app_client_trust_certificates.pem, certificatePath: /run/secrets/app_cos_client_certificate.pem, privateKeyPath: /run/secrets/app_cos_client_certificate_private_key.pem, privateKeyPassword: ***, url: wss://cos/fhir/ws, proxy: disabled}
2025-05-23 14:07:24,310 [main] INFO  dev.dsf.bpe.spring.config.FhirClientConfig - Remote webservice client config: {trustStorePath: /run/secrets/app_client_trust_certificates.pem, certificatePath: /run/secrets/app_cos_client_certificate.pem, privateKeyPath: /run/secrets/app_cos_client_certificate_private_key.pem, privateKeyPassword: ***, proxy: disabled}
2025-05-23 14:07:24,313 [main] INFO  dev.dsf.bpe.spring.config.MailConfig - Mail client config: SMTP client not configured, sending mails to debug log, configure at least SMTP server host and port
2025-05-23 14:07:26,937 [main] INFO  dev.dsf.bpe.spring.config.AuthenticationConfig - Role config: {[name=webbrowser_test_user, thumbprints=[7b426682eceeb1f9e688890f82f67c9c3df7f98097e82fcf45edd537d5d8705f5159824568e54346dd350ef9c4c142fbfa3425248c113b34e6a3a6ae2226dba4], emails=[], tokenRoles=[admin], tokenGroups=[], dsfRoles=[ADMIN], practitionerRoles=[]]}
2025-05-23 14:07:26,954 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Excluded processes: []
2025-05-23 14:07:26,955 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Retired processes: []
2025-05-23 14:07:27,043 [main] INFO  dev.dsf.tools.build.BuildInfoReaderImpl - System default timezone: Europe/Berlin
2025-05-23 14:07:27,047 [main] INFO  dev.dsf.tools.build.BuildInfoReaderImpl - Artifact: dsf-bpe-server-jetty, version: 1.7.1, build: 2025-03-24T19:38:48+01:00, branch: main, commit: bffc318dc9150994236c1a40d0e6b736d4ec81f4
2025-05-23 14:07:27,048 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Deploying process plugins ...
2025-05-23 14:07:27,050 [main] DEBUG dev.dsf.fhir.client.AbstractFhirWebserviceClientJerseyWithRetry - First try ...
2025-05-23 14:07:27,495 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:27,813 [main] WARN  dev.dsf.bpe.plugin.ProcessPluginLoaderImpl - Ignoring /opt/bpe/process/README.md: Not a .jar file
2025-05-23 14:07:27,826 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ActivityDefinition/eyematics-initiate-process-activity-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:27,905 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-initiate-process-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:27,943 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/CodeSystem/eyematics-generic-process-output-code-system.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:27,970 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ValueSet/eyematics-generic-process-output-value-set.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:27,975 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/Task/eyematics-initiate-process-task.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,233 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ActivityDefinition/eyematics-receive-process-activity-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,238 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-receive-process-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,245 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/CodeSystem/eyematics-receive-process-code-system.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,249 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ValueSet/eyematics-receive-process-value-set.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,252 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ActivityDefinition/eyematics-provide-process-activity-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,255 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-provide-process-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,257 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-provide-process-receive-receipt-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,261 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading BPMN model bpe/eyematics-initiate-process.bpmn from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,450 [main] INFO  dev.dsf.bpe.plugin.AbstractProcessPlugin - Setting process history time to live for process dsfdev_eyematicsInitiateProcess from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar to P30D
2025-05-23 14:07:28,460 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading BPMN model bpe/eyematics-provide-process.bpmn from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,495 [main] INFO  dev.dsf.bpe.plugin.AbstractProcessPlugin - Setting process history time to live for process dsfdev_eyematicsProvideProcess from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar to P30D
2025-05-23 14:07:28,501 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading BPMN model bpe/eyematics-receive-process.bpmn from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with cos.dsf.test
2025-05-23 14:07:28,535 [main] INFO  dev.dsf.bpe.plugin.AbstractProcessPlugin - Setting process history time to live for process dsfdev_eyematicsReceiveProcess from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar to P30D
2025-05-23 14:07:28,672 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Deploying process models ...
2025-05-23 14:07:28,795 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.initiate.SelectRequestTargetsTask in BPMN element with id 'selectRequestTargetsTask'
2025-05-23 14:07:28,799 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.message.initiate.RequestDataMessageTask in BPMN element with id 'requestDataMessageTask'
2025-05-23 14:07:28,799 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.initiate.FinalizeInitiateProcessTask in BPMN element with id 'finalizeInitiateProcessTask'
2025-05-23 14:07:28,848 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsInitiateProcess|1.1 from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar://bpe/eyematics-initiate-process.bpmn deployed with id 7f512401-37ce-11f0-aae5-0242ac1a0008
2025-05-23 14:07:28,928 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.EncryptDataBundleTask in BPMN element with id 'encryptDataBundleTask'
2025-05-23 14:07:28,929 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.SelectReceiveTargetTask in BPMN element with id 'selectReceiveTargetTask'
2025-05-23 14:07:28,929 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.CreateDataBundleTask in BPMN element with id 'createDataBundleTask'
2025-05-23 14:07:28,930 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.StoreProvideDataTask in BPMN element with id 'storeProvideDataTask'
2025-05-23 14:07:28,930 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.message.provide.ProvideDataMessageTask in BPMN element with id 'provideDataMessageTask'
2025-05-23 14:07:28,931 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.ReadProvideDataTask in BPMN element with id 'readProvideDataTask'
2025-05-23 14:07:28,932 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying dev.dsf.bpe.camunda.MultiVersionClassDelegateTaskListener for org.eyematics.process.utils.listener.SetCorrelationKeyListener in BPMN element with id 'null'
2025-05-23 14:07:28,934 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.StoreDataReceiptTask in BPMN element with id 'storeDataReceiptTask'
2025-05-23 14:07:28,934 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.DeleteProvideDataTask in BPMN element with id 'deleteProvideDataTask'
2025-05-23 14:07:28,949 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsProvideProcess|1.1 from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar://bpe/eyematics-provide-process.bpmn deployed with id 7f6d5e95-37ce-11f0-aae5-0242ac1a0008
2025-05-23 14:07:28,986 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.receive.DownloadRequestedDataTask in BPMN element with id 'downloadRequestedDataTask'
2025-05-23 14:07:28,986 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.receive.DecryptRequestedDataTask in BPMN element with id 'decryptRequestedDataTask'
2025-05-23 14:07:28,987 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.message.receive.AcknowledgeReceivedMessageTask in BPMN element with id 'acknowledgeReceivedMessageTask'
2025-05-23 14:07:28,987 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.receive.SelectProvideTargetTask in BPMN element with id 'selectProvideTargetTask'
2025-05-23 14:07:29,001 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsReceiveProcess|1.1 from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar://bpe/eyematics-receive-process.bpmn deployed with id 7f76865a-37ce-11f0-aae5-0242ac1a0008
2025-05-23 14:07:29,092 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsInitiateProcess|1.0 state change: DRAFT -> EXCLUDED
2025-05-23 14:07:29,092 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspending process dsfdev_eyematicsInitiateProcess|1.0
2025-05-23 14:07:29,102 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsProvideProcess|1.0 state change: DRAFT -> EXCLUDED
2025-05-23 14:07:29,102 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspending process dsfdev_eyematicsProvideProcess|1.0
2025-05-23 14:07:29,106 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsReceiveProcess|1.0 state change: DRAFT -> EXCLUDED
2025-05-23 14:07:29,107 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspending process dsfdev_eyematicsReceiveProcess|1.0
2025-05-23 14:07:29,112 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsInitiateProcess|1.1 state change: NEW -> DRAFT
2025-05-23 14:07:29,112 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsProvideProcess|1.1 state change: NEW -> DRAFT
2025-05-23 14:07:29,112 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsReceiveProcess|1.1 state change: NEW -> DRAFT
2025-05-23 14:07:29,128 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspended process dsfdev_eyematicsInitiateProcess/1.0 (internal version 1) from bpe/eyematics-initiate-process.bpmn deployed 2025-05-23T14:05:03.937+0200
2025-05-23 14:07:29,129 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Active process dsfdev_eyematicsInitiateProcess/1.1 (internal version 2) from bpe/eyematics-initiate-process.bpmn deployed 2025-05-23T14:07:28.700+0200
2025-05-23 14:07:29,130 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspended process dsfdev_eyematicsProvideProcess/1.0 (internal version 1) from bpe/eyematics-provide-process.bpmn deployed 2025-05-23T14:05:04.250+0200
2025-05-23 14:07:29,130 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Active process dsfdev_eyematicsProvideProcess/1.1 (internal version 2) from bpe/eyematics-provide-process.bpmn deployed 2025-05-23T14:07:28.913+0200
2025-05-23 14:07:29,131 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspended process dsfdev_eyematicsReceiveProcess/1.0 (internal version 1) from bpe/eyematics-receive-process.bpmn deployed 2025-05-23T14:05:04.412+0200
2025-05-23 14:07:29,131 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Active process dsfdev_eyematicsReceiveProcess/1.1 (internal version 2) from bpe/eyematics-receive-process.bpmn deployed 2025-05-23T14:07:28.974+0200
2025-05-23 14:07:29,140 [main] DEBUG dev.dsf.bpe.plugin.FhirResourceHandlerImpl - Executing process plugin resources bundle
2025-05-23 14:07:29,177 [main] DEBUG dev.dsf.fhir.client.AbstractFhirWebserviceClientJerseyWithRetry - First try ...
2025-05-23 14:07:39,329 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:39,330 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: null
2025-05-23 14:07:39,331 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: null
2025-05-23 14:07:39,331 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: null
2025-05-23 14:07:39,412 [main] INFO  org.eyematics.process.utils.listener.EyeMaticsProcessPluginDeploymentStateListener - Providing Public Key, If Not Exists.
2025-05-23 14:07:39,413 [main] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - Reading PublicKey Bundle on DSF FHIR server with baseUrl 'https://cos/fhir' ...
2025-05-23 14:07:39,436 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:39,445 [main] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - PublicKey Bundle already exists on DSF FHIR server with base Url 'https://cos/fhir'
2025-05-23 14:07:39,446 [main] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - PublicKey Bundle has id 'Bundle/bc4861b0-ea1c-4635-8433-6af427e3fed5/_history/1'
2025-05-23 14:07:39,446 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Deploying process plugins [Done]
2025-05-23 14:07:39,447 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Starting process engine ...
2025-05-23 14:07:39,448 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Starting process engine [Done]
2025-05-23 14:07:39,448 [main] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:07:39,449 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Task websocket subscription ...
2025-05-23 14:07:39,450 [main] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:07:39,451 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving QuestionnaireResponse websocket subscription ...
2025-05-23 14:07:39,479 [pool-6-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:39,487 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Subscription with id ec4f0ef1-2c88-4c82-8c73-b933cbff31a3 found
2025-05-23 14:07:39,487 [pool-6-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new Task resources ...
2025-05-23 14:07:39,493 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Executing search Task?_page=1&_count=20&_lastUpdated=gt2025-05-23T14%3A05%3A32.171&_sort=_lastUpdated&status=requested
2025-05-23 14:07:39,496 [pool-7-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:39,499 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Subscription with id 027ce75c-7890-4a44-bf19-288a9aa5dc2c found
2025-05-23 14:07:39,499 [pool-7-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new QuestionnaireResponse resources ...
2025-05-23 14:07:39,501 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Executing search QuestionnaireResponse?_page=1&_count=20&_sort=_lastUpdated&status=completed
2025-05-23 14:07:39,509 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'logoutService' as singleton resource with path '/bpe/logout'
2025-05-23 14:07:39,511 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'processService' as singleton resource with path '/bpe/Process'
2025-05-23 14:07:39,511 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'rootService' as singleton resource with path '/bpe/'
2025-05-23 14:07:39,512 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'staticResourcesService' as singleton resource with path '/bpe/static'
2025-05-23 14:07:39,512 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'statusService' as singleton resource with path '/bpe/status'
2025-05-23 14:07:39,519 [pool-6-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:39,519 [pool-7-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:39,520 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Result bundle.total <= 0
2025-05-23 14:07:39,520 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Result bundle.total <= 0
2025-05-23 14:07:39,521 [pool-7-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new QuestionnaireResponse resources [Done]
2025-05-23 14:07:39,521 [pool-6-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new Task resources [Done]
2025-05-23 14:07:39,527 [pool-7-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Connecting QuestionnaireResponse websocket to local DSF FHIR server, subscription: 027ce75c-7890-4a44-bf19-288a9aa5dc2c ...
2025-05-23 14:07:39,527 [pool-6-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Connecting Task websocket to local DSF FHIR server, subscription: ec4f0ef1-2c88-4c82-8c73-b933cbff31a3 ...
2025-05-23 14:07:39,537 [pool-6-thread-1] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Connecting to websocket wss://cos/fhir/ws and waiting for connection
2025-05-23 14:07:39,537 [pool-7-thread-1] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Connecting to websocket wss://cos/fhir/ws and waiting for connection
2025-05-23 14:07:39,718 [Grizzly(1)] INFO  dev.dsf.fhir.client.ClientEndpoint - Websocket open, session 676380db-62da-4ea2-b2bd-b232da34ff09
2025-05-23 14:07:39,718 [Grizzly(1)] INFO  dev.dsf.fhir.client.ClientEndpoint - Websocket open, session 8fa17fe9-66b2-40bc-b883-1a8c24b7e67f
2025-05-23 14:07:39,739 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session 8fa17fe9-66b2-40bc-b883-1a8c24b7e67f: bound 027ce75c-7890-4a44-bf19-288a9aa5dc2c
2025-05-23 14:07:39,739 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session 676380db-62da-4ea2-b2bd-b232da34ff09: bound ec4f0ef1-2c88-4c82-8c73-b933cbff31a3
2025-05-23 14:07:39,739 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Bound received
2025-05-23 14:07:39,739 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Bound received
2025-05-23 14:07:39,742 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@576d4810{/bpe,null,AVAILABLE}
2025-05-23 14:07:39,743 [main] INFO  org.eclipse.jetty.webapp.WebAppContext - WebApp@1939100990 at http://ServerConnector@5e13f156{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}/bpe
2025-05-23 14:07:39,744 [main] INFO  org.eclipse.jetty.webapp.WebAppContext - WebApp@1939100990 at http://ServerConnector@f2a1813{HTTP/1.1, (http/1.1)}{127.0.0.1:10000}/bpe
2025-05-23 14:07:39,748 [main] INFO  org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@5e13f156{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2025-05-23 14:07:39,754 [main] INFO  org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@f2a1813{HTTP/1.1, (http/1.1)}{127.0.0.1:10000}
2025-05-23 14:07:39,756 [main] INFO  org.eclipse.jetty.server.Server - Started Server@51efb731{STARTING}[11.0.25,sto=0] @19385ms
2025-05-23 14:07:50,033 [Grizzly(1)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session 676380db-62da-4ea2-b2bd-b232da34ff09: {"resourceType":"Task","id":"b5fc71b0-373d-46f5-ae7e-f5b230df538d","meta":{"versionId":"1","lastUpdated":"2025-05-23T14:07:50.019+02:00","profile":["http://dsf.dev/fhir/StructureDefinition/eyematics-provide-process-structure-definition|1.1"]},"instantiatesCanonical":"http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1","status":"requested","intent":"order","authoredOn":"2025-05-23T14:07:49+02:00","requester":{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"dic.dsf.test"}},"restriction":{"recipient":[{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"cos.dsf.test"}}]},"input":[{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"message-name"}]},"valueString":"provideProcessStartEventMessage"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"business-key"}]},"valueString":"38d95460-2a95-4d96-90ac-351c8bf8b373"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"correlation-key"}]},"valueString":"560a46aa-71cd-43a8-8edb-b604f6840ffc"}]}
2025-05-23 14:07:50,035 [pool-2-thread-1] DEBUG dev.dsf.bpe.subscription.ConcurrentSubscriptionHandlerFactory - executing onResource for Task with id: Task/b5fc71b0-373d-46f5-ae7e-f5b230df538d/_history/1
2025-05-23 14:07:50,190 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:50,190 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://cos/fhir/Task/b5fc71b0-373d-46f5-ae7e-f5b230df538d/_history/2
2025-05-23 14:07:50,190 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"2"
2025-05-23 14:07:50,191 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:50 GMT
2025-05-23 14:07:50,275 [pool-2-thread-1] INFO  dev.dsf.bpe.listener.StartListener - Starting process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 at 2025-05-23T14:07:50+02:00 [task: https://cos/fhir/Task/b5fc71b0-373d-46f5-ae7e-f5b230df538d, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: 560a46aa-71cd-43a8-8edb-b604f6840ffc, message: provideProcessStartEventMessage]
2025-05-23 14:07:50,287 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.ReadProvideDataTask - Reading Data from FHIR-Repository...
2025-05-23 14:07:50,379 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.ReadProvideDataTask - Response Code -> 200
2025-05-23 14:07:51,139 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.ReadProvideDataTask - Data -> org.hl7.fhir.r4.model.Bundle@74c8d367
2025-05-23 14:07:51,706 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.CreateDataBundleTask - -> something to bundle
2025-05-23 14:07:51,708 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.CreateDataBundleTask - -> Amount of Items: 50
2025-05-23 14:07:52,040 [pool-2-thread-1] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - Configuring KeyProvider with private-key from '/run/secrets/cos_private_key.pem' and public-key from '/run/secrets/cos_public_key.pem'
2025-05-23 14:07:52,078 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - -> try to get public-key ....
2025-05-23 14:07:52,080 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - EncryptProvideDataTask: Request-Organization -> dic.dsf.test
2025-05-23 14:07:52,082 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - EncryptProvideDataTask: Recipient-Organization -> cos.dsf.test
2025-05-23 14:07:52,156 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:52,185 [pool-2-thread-1] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - Reading PublicKey Bundle on DSF FHIR server with baseUrl 'https://dic/fhir' ...
2025-05-23 14:07:52,346 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:52,363 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - -> something to encrypt
2025-05-23 14:07:52,762 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.SelectReceiveTargetTask - -> something to select
2025-05-23 14:07:52,796 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:52,830 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:52,873 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.SelectReceiveTargetTask - -> https://dic/fhir
2025-05-23 14:07:52,876 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - -> something to store
2025-05-23 14:07:52,914 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:52,979 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,326 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 201: Created
2025-05-23 14:07:53,326 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://cos/fhir/Binary/8c84209d-56d4-419b-a4d9-380091d21321/_history/1
2025-05-23 14:07:53,326 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"1"
2025-05-23 14:07:53,327 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:53 GMT
2025-05-23 14:07:53,327 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - Target-Organization-Value -> dic.dsf.test
2025-05-23 14:07:53,327 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - Local-Organization-Value -> cos.dsf.test
2025-05-23 14:07:53,327 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - IdType -> https://cos/fhir/Binary/8c84209d-56d4-419b-a4d9-380091d21321/_history/1
2025-05-23 14:07:53,348 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,353 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - Security Context -> Organization/064bb451-5404-493a-81c5-84eca994aed8
2025-05-23 14:07:53,357 [pool-2-thread-1] INFO  org.eyematics.process.message.provide.ProvideDataMessageTask - -> something to send
2025-05-23 14:07:53,389 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,392 [pool-2-thread-1] INFO  dev.dsf.bpe.v1.activity.AbstractTaskMessageSend - Sending task http://dsf.dev/bpe/Process/eyematicsReceiveProcess|1.1 [recipient: dic.dsf.test, endpoint: dic.dsf.test_Endpoint, businessKey: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlationKey: 560a46aa-71cd-43a8-8edb-b604f6840ffc, message: receiveProcessStartEventMessage] ...
2025-05-23 14:07:53,918 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 201: Created
2025-05-23 14:07:53,919 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://dic/fhir/Task/5fa48b7f-cea4-4a2f-99dc-ba9fb04c510c/_history/1
2025-05-23 14:07:53,919 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"1"
2025-05-23 14:07:53,920 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:53 GMT
2025-05-23 14:07:53,921 [pool-2-thread-1] INFO  dev.dsf.bpe.v1.activity.AbstractTaskMessageSend - Task http://dsf.dev/bpe/Process/eyematicsReceiveProcess|1.1 send [task: https://dic/fhir/Task/5fa48b7f-cea4-4a2f-99dc-ba9fb04c510c]
2025-05-23 14:07:53,951 [pool-2-thread-1] INFO  org.eyematics.process.utils.listener.SetCorrelationKeyListener - SetCorrelationKeyListener -> Adding Listener...
2025-05-23 14:07:55,209 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session 676380db-62da-4ea2-b2bd-b232da34ff09: {"resourceType":"Task","id":"b9e22bb4-dffe-4653-ad93-b3cc069c1b55","meta":{"versionId":"1","lastUpdated":"2025-05-23T14:07:55.197+02:00","profile":["http://dsf.dev/fhir/StructureDefinition/eyematics-provide-process-receive-receipt-structure-definition|1.1"]},"instantiatesCanonical":"http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1","status":"requested","intent":"order","authoredOn":"2025-05-23T14:07:55+02:00","requester":{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"dic.dsf.test"}},"restriction":{"recipient":[{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"cos.dsf.test"}}]},"input":[{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"message-name"}]},"valueString":"provideProcessReceiveReceiptEventMessage"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"business-key"}]},"valueString":"38d95460-2a95-4d96-90ac-351c8bf8b373"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"correlation-key"}]},"valueString":"560a46aa-71cd-43a8-8edb-b604f6840ffc"}]}
2025-05-23 14:07:55,210 [pool-2-thread-2] DEBUG dev.dsf.bpe.subscription.ConcurrentSubscriptionHandlerFactory - executing onResource for Task with id: Task/b9e22bb4-dffe-4653-ad93-b3cc069c1b55/_history/1
2025-05-23 14:07:55,258 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:55,258 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://cos/fhir/Task/b9e22bb4-dffe-4653-ad93-b3cc069c1b55/_history/2
2025-05-23 14:07:55,258 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"2"
2025-05-23 14:07:55,259 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:55 GMT
2025-05-23 14:07:55,309 [pool-2-thread-2] INFO  dev.dsf.bpe.listener.ContinueListener - Continuing process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 at 2025-05-23T14:07:55+02:00 [task: https://cos/fhir/Task/b9e22bb4-dffe-4653-ad93-b3cc069c1b55, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: 560a46aa-71cd-43a8-8edb-b604f6840ffc, message: provideProcessReceiveReceiptEventMessage]
2025-05-23 14:07:55,311 [pool-2-thread-2] INFO  org.eyematics.process.service.provide.StoreDataReceiptTask - -> nothing to store, yet
2025-05-23 14:07:55,313 [pool-2-thread-2] INFO  org.eyematics.process.service.provide.DeleteProvideDataTask - -> something to delete
2025-05-23 14:07:55,315 [pool-2-thread-2] INFO  org.eyematics.process.service.provide.DeleteProvideDataTask - -> nothing to delete
2025-05-23 14:07:55,316 [pool-2-thread-2] DEBUG dev.dsf.bpe.listener.EndListener - Updating Task https://cos/fhir/Task/b9e22bb4-dffe-4653-ad93-b3cc069c1b55, new status: completed
2025-05-23 14:07:55,375 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:55,376 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://cos/fhir/Task/b9e22bb4-dffe-4653-ad93-b3cc069c1b55/_history/3
2025-05-23 14:07:55,376 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"3"
2025-05-23 14:07:55,377 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:55 GMT
2025-05-23 14:07:55,378 [pool-2-thread-2] INFO  dev.dsf.bpe.listener.EndListener - Process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 finished at 2025-05-23T14:07:55+02:00 [task: https://cos/fhir/Task/b9e22bb4-dffe-4653-ad93-b3cc069c1b55, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: 560a46aa-71cd-43a8-8edb-b604f6840ffc]
2025-05-23 14:07:55,378 [pool-2-thread-2] DEBUG dev.dsf.bpe.listener.EndListener - Updating Task https://cos/fhir/Task/b5fc71b0-373d-46f5-ae7e-f5b230df538d, new status: completed
2025-05-23 14:07:55,443 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:55,443 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://cos/fhir/Task/b5fc71b0-373d-46f5-ae7e-f5b230df538d/_history/3
2025-05-23 14:07:55,444 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"3"
2025-05-23 14:07:55,444 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:55 GMT
2025-05-23 14:07:55,444 [pool-2-thread-2] INFO  dev.dsf.bpe.listener.EndListener - Process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 finished at 2025-05-23T14:07:55+02:00 [task: https://cos/fhir/Task/b5fc71b0-373d-46f5-ae7e-f5b230df538d, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: 560a46aa-71cd-43a8-8edb-b604f6840ffc]
2025-05-23 14:09:04,409 [Thread-1] INFO  dev.dsf.common.jetty.JettyServer - Stopping jetty server ...
2025-05-23 14:09:04,410 [Grizzly(1)] WARN  dev.dsf.fhir.client.ClientEndpoint - Websocket closed, session 8fa17fe9-66b2-40bc-b883-1a8c24b7e67f: 1006 - Closed abnormally.
2025-05-23 14:09:04,410 [Grizzly(1)] WARN  dev.dsf.fhir.client.ClientEndpoint - Websocket closed, session 676380db-62da-4ea2-b2bd-b232da34ff09: 1006 - Closed abnormally.
2025-05-23 14:09:04,412 [Grizzly(1)] INFO  dev.dsf.fhir.client.ClientEndpoint - Trying to reconnect websocket
2025-05-23 14:09:04,412 [Grizzly(1)] INFO  dev.dsf.fhir.client.ClientEndpoint - Trying to reconnect websocket
2025-05-23 14:09:04,416 [Grizzly(1)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Closing websocket wss://cos/fhir/ws
2025-05-23 14:09:04,417 [Grizzly(1)] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:09:04,419 [Thread-1] INFO  org.eclipse.jetty.server.Server - Stopped Server@51efb731{STOPPING}[11.0.25,sto=0]
2025-05-23 14:09:04,414 [Grizzly(1)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Closing websocket wss://cos/fhir/ws
2025-05-23 14:09:04,421 [Grizzly(1)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Websocket closed: CLOSED_ABNORMALLY - Closed abnormally.
2025-05-23 14:09:04,426 [Thread-1] INFO  org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@5e13f156{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2025-05-23 14:09:04,422 [pool-8-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving QuestionnaireResponse websocket subscription ...
2025-05-23 14:09:04,430 [Grizzly(1)] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:09:04,431 [Grizzly(1)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Websocket closed: CLOSED_ABNORMALLY - Closed abnormally.
2025-05-23 14:09:04,431 [pool-9-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Task websocket subscription ...
2025-05-23 14:09:04,435 [Thread-1] INFO  org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@f2a1813{HTTP/1.1, (http/1.1)}{127.0.0.1:10000}
2025-05-23 14:09:04,444 [Thread-1] INFO  org.eclipse.jetty.server.handler.ContextHandler.bpe - Closing Spring root WebApplicationContext
2025-05-23 14:09:04,445 [pool-8-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 502: Bad Gateway
2025-05-23 14:09:04,448 [pool-8-thread-1] WARN  dev.dsf.fhir.client.FhirWebserviceClientJersey - Request failed: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException - MessageBodyReader not found for media type=text/html, type=class org.hl7.fhir.r4.model.OperationOutcome, genericType=class org.hl7.fhir.r4.model.OperationOutcome.
2025-05-23 14:09:04,449 [pool-8-thread-1] WARN  dev.dsf.bpe.subscription.FhirConnectorImpl - Error while retrieving QuestionnaireResponse websocket subscription (HTTP 502 Bad Gateway), trying again in 5000 ms (retry 1)
2025-05-23 14:09:04,461 [Thread-1] INFO  org.eclipse.jetty.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@576d4810{/bpe,null,STOPPED}
2025-05-23 14:09:04,462 [pool-9-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 502: Bad Gateway
2025-05-23 14:09:04,463 [pool-9-thread-1] WARN  dev.dsf.fhir.client.FhirWebserviceClientJersey - Request failed: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException - MessageBodyReader not found for media type=text/html, type=class org.hl7.fhir.r4.model.OperationOutcome, genericType=class org.hl7.fhir.r4.model.OperationOutcome.
2025-05-23 14:09:04,463 [pool-9-thread-1] WARN  dev.dsf.bpe.subscription.FhirConnectorImpl - Error while retrieving Task websocket subscription (HTTP 502 Bad Gateway), trying again in 5000 ms (retry 1)
