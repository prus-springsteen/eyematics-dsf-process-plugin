2025-05-23 14:07:27,334 [main] INFO  dev.dsf.tools.db.DbMigrator - Executing DB migration ...
2025-05-23 14:07:28,408 [main] DEBUG dev.dsf.tools.db.DbMigrator - UPDATE SUMMARY
2025-05-23 14:07:28,409 [main] DEBUG dev.dsf.tools.db.DbMigrator - Run:                          0
2025-05-23 14:07:28,409 [main] DEBUG dev.dsf.tools.db.DbMigrator - Previously run:               9
2025-05-23 14:07:28,409 [main] DEBUG dev.dsf.tools.db.DbMigrator - Filtered out:                 0
2025-05-23 14:07:28,410 [main] DEBUG dev.dsf.tools.db.DbMigrator - -------------------------------
2025-05-23 14:07:28,410 [main] DEBUG dev.dsf.tools.db.DbMigrator - Total change sets:            9
2025-05-23 14:07:28,411 [main] INFO  dev.dsf.tools.db.DbMigrator - Executing DB migration [Done]
2025-05-23 14:07:28,830 [main] DEBUG dev.dsf.common.jetty.JettyServer - Java classpath: [lib/camunda-dmn-model-7.22.0.jar, lib/hapi-fhir-validation-resources-r4-5.1.0.jar, lib/camunda-xml-model-7.22.0.jar, lib/jakarta.activation-api-2.1.3.jar, lib/feel-engine-1.17.5-scala-shaded.jar, lib/org.hl7.fhir.r5-5.1.0.jar, lib/spring-jdbc-6.2.5.jar, lib/jersey-entity-filtering-3.1.10.jar, lib/slf4j-api-2.0.17.jar, lib/dsf-common-status-1.7.1.jar, lib/micrometer-observation-1.14.5.jar, lib/asm-commons-9.7.1.jar, lib/jetty-http-11.0.25.jar, lib/dsf-fhir-validation-1.7.1.jar, lib/jaxb-core-4.0.5.jar, lib/jetty-annotations-11.0.25.jar, lib/jakarta.activation-1.2.1.jar, lib/spring-aop-6.2.5.jar, lib/hapi-fhir-validation-5.1.0.jar, lib/jakarta.websocket-client-api-2.1.1.jar, lib/tyrus-core-2.2.0.jar, lib/hapi-fhir-converter-5.1.0.jar, lib/java-jwt-4.5.0.jar, lib/hk2-api-3.0.6.jar, lib/log4j-core-2.24.3.jar, lib/jetty-alpn-client-11.0.25.jar, lib/commons-dbcp2-2.13.0.jar, lib/jackson-core-2.18.3.jar, lib/jetty-util-ajax-11.0.25.jar, lib/tyrus-container-grizzly-client-2.2.0.jar, lib/jcl-over-slf4j-2.0.17.jar, lib/org.hl7.fhir.dstu2-5.1.0.jar, lib/jakarta.validation-api-3.0.2.jar, lib/error_prone_annotations-2.3.3.jar, lib/camunda-engine-dmn-7.22.0.jar, lib/dsf-common-ui-1.7.1.jar, lib/jersey-container-servlet-3.1.10.jar, lib/dsf-common-jetty-1.7.1.jar, lib/org.hl7.fhir.dstu3-5.1.0.jar, lib/jetty-util-11.0.25.jar, lib/txw2-4.0.5.jar, lib/jaxb-runtime-4.0.5.jar, lib/failureaccess-1.0.1.jar, lib/xpp3-1.1.4c.jar, lib/jersey-media-jaxb-3.1.10.jar, lib/jetty-openid-11.0.25.jar, lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar, lib/grizzly-http-server-4.0.2.jar, lib/hapi-fhir-structures-r4-5.1.0.jar, lib/joda-time-2.12.5.jar, lib/jersey-apache-connector-3.1.10.jar, lib/dsf-fhir-webservice-client-1.7.1.jar, lib/dsf-common-auth-1.7.1.jar, lib/camunda-cmmn-model-7.22.0.jar, lib/jetty-client-11.0.25.jar, lib/jackson-module-jakarta-xmlbind-annotations-2.18.3.jar, lib/grizzly-http-4.0.2.jar, lib/grizzly-framework-4.0.2.jar, lib/httpcore-4.4.16.jar, lib/attoparser-2.0.7.RELEASE.jar, lib/hapi-fhir-validation-resources-r5-5.1.0.jar, lib/log4j-slf4j2-impl-2.24.3.jar, lib/jakarta.xml.bind-api-4.0.2.jar, lib/jetty-plus-11.0.25.jar, lib/istack-commons-runtime-4.1.2.jar, lib/commons-collections4-4.4.jar, lib/jetty-webapp-11.0.25.jar, lib/dsf-fhir-rest-adapter-1.7.1.jar, lib/jetty-io-11.0.25.jar, lib/camunda-engine-feel-api-7.22.0.jar, lib/postgresql-42.7.5.jar, lib/bcmail-jdk18on-1.80.jar, lib/bcprov-jdk18on-1.80.jar, lib/spring-context-6.2.5.jar, lib/dsf-bpe-server-1.7.1.jar, lib/jackson-annotations-2.18.3.jar, lib/ognl-3.3.4.jar, lib/Saxon-HE-9.5.1-5.jar, lib/j2objc-annotations-2.8.jar, lib/spring-expression-6.2.5.jar, lib/httpclient-4.5.14.jar, lib/hapi-fhir-structures-r5-5.1.0.jar, lib/jersey-common-3.1.10.jar, lib/jakarta.servlet-api-6.0.0.jar, lib/hapi-fhir-base-5.1.0.jar, lib/dsf-common-config-1.7.1.jar, lib/crypto-utils-3.8.0.jar, lib/dsf-common-documentation-1.7.1.jar, lib/spring-tx-6.2.5.jar, lib/caffeine-2.7.0.jar, lib/org.hl7.fhir.validation-5.1.0.jar, lib/asm-tree-9.7.1.jar, lib/tyrus-client-2.2.0.jar, lib/org.hl7.fhir.r4-5.1.0.jar, lib/jetty-xml-11.0.25.jar, lib/jakarta.transaction-api-1.3.3.jar, lib/jersey-client-3.1.10.jar, lib/dsf-tools-build-info-reader-1.7.1.jar, lib/micrometer-commons-1.14.5.jar, lib/jetty-server-11.0.25.jar, lib/hk2-locator-3.0.6.jar, lib/spring-beans-6.2.5.jar, lib/camunda-engine-7.22.0.jar, lib/jersey-server-3.1.10.jar, lib/bcpkix-jdk18on-1.80.jar, lib/camunda-bpmn-model-7.22.0.jar, lib/hk2-utils-3.0.6.jar, lib/jetty-jakarta-servlet-api-5.0.2.jar, lib/thymeleaf-3.1.3.RELEASE.jar, lib/org.hl7.fhir.utilities-5.1.0.jar, lib/checker-qual-3.48.3.jar, lib/commons-io-2.18.0.jar, lib/xpp3_xpath-1.1.4c.jar, lib/dsf-bpe-process-api-v1-1.7.1.jar, lib/jakarta.websocket-api-2.1.1.jar, lib/camunda-commons-logging-7.22.0.jar, lib/jetty-security-11.0.25.jar, lib/jersey-container-servlet-core-3.1.10.jar, lib/spring-web-6.2.5.jar, lib/jakarta.ws.rs-api-3.1.0.jar, lib/dsf-tools-docker-secrets-reader-1.7.1.jar, lib/jakarta.annotation-api-2.1.1.jar, lib/jakarta.inject-api-2.0.1.jar, lib/commons-text-1.13.0.jar, lib/commons-pool2-2.12.0.jar, lib/aopalliance-repackaged-3.0.6.jar, lib/guava-32.1.3-jre.jar, lib/unbescape-1.1.6.RELEASE.jar, lib/asm-9.7.1.jar, lib/commons-lang3-3.17.0.jar, lib/org.hl7.fhir.dstu2016may-5.1.0.jar, lib/dsf-fhir-websocket-client-1.7.1.jar, lib/spring-core-6.2.5.jar, lib/commons-compress-1.27.1.jar, lib/jersey-hk2-3.1.10.jar, lib/opencsv-5.9.jar, lib/javassist-3.30.2-GA.jar, lib/org.hl7.fhir.convertors-5.1.0.jar, lib/java-uuid-generator-4.3.0.jar, lib/jakarta.mail-1.6.7.jar, lib/camunda-engine-feel-juel-7.22.0.jar, lib/liquibase-core-4.31.1.jar, lib/jetty-jndi-11.0.25.jar, lib/spring-jcl-6.2.5.jar, lib/camunda-engine-spring-7.22.0.jar, lib/dsf-tools-db-migration-1.7.1.jar, lib/jersey-media-json-jackson-3.1.10.jar, lib/snakeyaml-2.4.jar, lib/camunda-commons-utils-7.22.0.jar, lib/dsf-fhir-auth-1.7.1.jar, lib/gson-2.12.1.jar, lib/camunda-engine-feel-scala-7.22.0.jar, lib/jul-to-slf4j-2.0.17.jar, lib/jsr305-3.0.2.jar, lib/camunda-juel-7.22.0.jar, lib/commons-codec-1.18.0.jar, lib/dsf-common-db-1.7.1.jar, lib/bcutil-jdk18on-1.80.jar, lib/jackson-databind-2.18.3.jar, lib/jetty-servlet-11.0.25.jar, lib/camunda-commons-typed-values-7.22.0.jar, lib/osgi-resource-locator-1.0.3.jar, lib/log4j-api-2.24.3.jar, lib/jaxb-api-2.3.1.jar, lib/tyrus-spi-2.2.0.jar, lib/mybatis-3.5.15.jar, lib/ucum-1.0.2.jar, lib_external/*, dsf_bpe.jar]
2025-05-23 14:07:28,831 [main] DEBUG dev.dsf.common.jetty.JettyServer - Resources for jetty: [file:///opt/bpe/lib/dsf-bpe-server-1.7.1.jar]
2025-05-23 14:07:28,832 [main] DEBUG dev.dsf.common.jetty.JettyServer - Init parameters: {}
2025-05-23 14:07:29,375 [main] INFO  dev.dsf.common.config.AbstractJettyConfig - OIDC authorization code flow enabled
2025-05-23 14:07:29,376 [main] INFO  dev.dsf.common.config.AbstractJettyConfig - OIDC bearer token enabled
2025-05-23 14:07:29,378 [main] INFO  dev.dsf.common.config.AbstractJettyConfig - OIDC back-channel logout enabled
2025-05-23 14:07:29,613 [main] INFO  dev.dsf.common.auth.ClientCertificateAuthenticator - Using [CN=Test, C=DE] to validate client certificates
2025-05-23 14:07:29,618 [main] INFO  dev.dsf.common.jetty.JettyServer - Starting jetty server ...
2025-05-23 14:07:29,620 [main] INFO  org.eclipse.jetty.server.Server - jetty-11.0.25; built: 2025-03-13T00:15:57.301Z; git: a2e9fae3ad8320f2a713d4fa29bba356a99d1295; jvm 17.0.14+7-LTS
2025-05-23 14:07:29,735 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler.bpe - 1 Spring WebApplicationInitializers detected on classpath
2025-05-23 14:07:29,751 [main] INFO  org.eclipse.jetty.server.session.DefaultSessionIdManager - Session workerName=node0
2025-05-23 14:07:29,880 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler.bpe - Initializing Spring root WebApplicationContext
2025-05-23 14:07:30,217 [main] INFO  dev.dsf.bpe.spring.config.PropertiesConfig - Concurrency config: {process-threads: 20, engine-core-pool: 4, engine-queue: 40, engine-max-pool: 10}
2025-05-23 14:07:30,226 [main] INFO  dev.dsf.common.config.ProxyConfigImpl - Forward proxy config: {url: null, username: null, password: null, no-proxy: []}
2025-05-23 14:07:30,228 [main] INFO  dev.dsf.bpe.spring.config.FhirClientConfig - Local webservice client config: {trustStorePath: /run/secrets/app_server_trust_certificates.pem, certificatePath: /run/secrets/app_hrp_client_certificate.pem, privateKeyPath: /run/secrets/app_hrp_client_certificate_private_key.pem, privateKeyPassword: ***, url: https://hrp/fhir, proxy: disabled}
2025-05-23 14:07:30,229 [main] INFO  dev.dsf.bpe.spring.config.FhirClientConfig - Local websocket client config: {trustStorePath: /run/secrets/app_server_trust_certificates.pem, certificatePath: /run/secrets/app_hrp_client_certificate.pem, privateKeyPath: /run/secrets/app_hrp_client_certificate_private_key.pem, privateKeyPassword: ***, url: wss://hrp/fhir/ws, proxy: disabled}
2025-05-23 14:07:30,230 [main] INFO  dev.dsf.bpe.spring.config.FhirClientConfig - Remote webservice client config: {trustStorePath: /run/secrets/app_server_trust_certificates.pem, certificatePath: /run/secrets/app_hrp_client_certificate.pem, privateKeyPath: /run/secrets/app_hrp_client_certificate_private_key.pem, privateKeyPassword: ***, proxy: disabled}
2025-05-23 14:07:30,234 [main] INFO  dev.dsf.bpe.spring.config.MailConfig - Mail client config: SMTP client not configured, sending mails to debug log, configure at least SMTP server host and port
2025-05-23 14:07:32,757 [main] INFO  dev.dsf.bpe.spring.config.AuthenticationConfig - Role config: {[name=webbrowser_test_user, thumbprints=[7b426682eceeb1f9e688890f82f67c9c3df7f98097e82fcf45edd537d5d8705f5159824568e54346dd350ef9c4c142fbfa3425248c113b34e6a3a6ae2226dba4], emails=[], tokenRoles=[admin], tokenGroups=[], dsfRoles=[ADMIN], practitionerRoles=[]]}
2025-05-23 14:07:32,772 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Excluded processes: []
2025-05-23 14:07:32,772 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Retired processes: []
2025-05-23 14:07:32,846 [main] INFO  dev.dsf.tools.build.BuildInfoReaderImpl - System default timezone: Europe/Berlin
2025-05-23 14:07:32,851 [main] INFO  dev.dsf.tools.build.BuildInfoReaderImpl - Artifact: dsf-bpe-server-jetty, version: 1.7.1, build: 2025-03-24T19:38:48+01:00, branch: main, commit: bffc318dc9150994236c1a40d0e6b736d4ec81f4
2025-05-23 14:07:32,852 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Deploying process plugins ...
2025-05-23 14:07:32,854 [main] DEBUG dev.dsf.fhir.client.AbstractFhirWebserviceClientJerseyWithRetry - First try ...
2025-05-23 14:07:33,212 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:33,457 [main] WARN  dev.dsf.bpe.plugin.ProcessPluginLoaderImpl - Ignoring /opt/bpe/process/README.md: Not a .jar file
2025-05-23 14:07:33,469 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ActivityDefinition/eyematics-initiate-process-activity-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,532 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-initiate-process-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,554 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/CodeSystem/eyematics-generic-process-output-code-system.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,567 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ValueSet/eyematics-generic-process-output-value-set.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,570 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/Task/eyematics-initiate-process-task.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,819 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ActivityDefinition/eyematics-receive-process-activity-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,825 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-receive-process-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,830 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/CodeSystem/eyematics-receive-process-code-system.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,833 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ValueSet/eyematics-receive-process-value-set.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,835 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/ActivityDefinition/eyematics-provide-process-activity-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,839 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-provide-process-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,841 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading FHIR resource fhir/StructureDefinition/eyematics-provide-process-receive-receipt-structure-definition.xml from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:33,846 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading BPMN model bpe/eyematics-initiate-process.bpmn from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:34,076 [main] INFO  dev.dsf.bpe.plugin.AbstractProcessPlugin - Setting process history time to live for process dsfdev_eyematicsInitiateProcess from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar to P30D
2025-05-23 14:07:34,084 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading BPMN model bpe/eyematics-provide-process.bpmn from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:34,116 [main] INFO  dev.dsf.bpe.plugin.AbstractProcessPlugin - Setting process history time to live for process dsfdev_eyematicsProvideProcess from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar to P30D
2025-05-23 14:07:34,121 [main] DEBUG dev.dsf.bpe.plugin.AbstractProcessPlugin - Reading BPMN model bpe/eyematics-receive-process.bpmn from process plugin eyematics-dsf-process-plugin-1.1.0.1 and replacing all occurrences of #{version} with 1.1, #{date} with 2025-08-15 and #{organization} with hrp.dsf.test
2025-05-23 14:07:34,135 [main] INFO  dev.dsf.bpe.plugin.AbstractProcessPlugin - Setting process history time to live for process dsfdev_eyematicsReceiveProcess from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar to P30D
2025-05-23 14:07:34,277 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Deploying process models ...
2025-05-23 14:07:34,414 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.initiate.SelectRequestTargetsTask in BPMN element with id 'selectRequestTargetsTask'
2025-05-23 14:07:34,417 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.message.initiate.RequestDataMessageTask in BPMN element with id 'requestDataMessageTask'
2025-05-23 14:07:34,418 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.initiate.FinalizeInitiateProcessTask in BPMN element with id 'finalizeInitiateProcessTask'
2025-05-23 14:07:34,468 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsInitiateProcess|1.1 from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar://bpe/eyematics-initiate-process.bpmn deployed with id 82a9ebf3-37ce-11f0-b8ad-0242ac1a0009
2025-05-23 14:07:34,548 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.EncryptDataBundleTask in BPMN element with id 'encryptDataBundleTask'
2025-05-23 14:07:34,550 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.SelectReceiveTargetTask in BPMN element with id 'selectReceiveTargetTask'
2025-05-23 14:07:34,550 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.CreateDataBundleTask in BPMN element with id 'createDataBundleTask'
2025-05-23 14:07:34,551 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.StoreProvideDataTask in BPMN element with id 'storeProvideDataTask'
2025-05-23 14:07:34,552 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.message.provide.ProvideDataMessageTask in BPMN element with id 'provideDataMessageTask'
2025-05-23 14:07:34,552 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.ReadProvideDataTask in BPMN element with id 'readProvideDataTask'
2025-05-23 14:07:34,553 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying dev.dsf.bpe.camunda.MultiVersionClassDelegateTaskListener for org.eyematics.process.utils.listener.SetCorrelationKeyListener in BPMN element with id 'null'
2025-05-23 14:07:34,555 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.StoreDataReceiptTask in BPMN element with id 'storeDataReceiptTask'
2025-05-23 14:07:34,556 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.provide.DeleteProvideDataTask in BPMN element with id 'deleteProvideDataTask'
2025-05-23 14:07:34,571 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsProvideProcess|1.1 from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar://bpe/eyematics-provide-process.bpmn deployed with id 82c737f7-37ce-11f0-b8ad-0242ac1a0009
2025-05-23 14:07:34,615 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.receive.DownloadRequestedDataTask in BPMN element with id 'downloadRequestedDataTask'
2025-05-23 14:07:34,616 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.receive.DecryptRequestedDataTask in BPMN element with id 'decryptRequestedDataTask'
2025-05-23 14:07:34,616 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.message.receive.AcknowledgeReceivedMessageTask in BPMN element with id 'acknowledgeReceivedMessageTask'
2025-05-23 14:07:34,616 [main] DEBUG dev.dsf.bpe.camunda.MultiVersionBpmnParse - Modifying ClassDelegateActivityBehavior for org.eyematics.process.service.receive.SelectProvideTargetTask in BPMN element with id 'selectProvideTargetTask'
2025-05-23 14:07:34,631 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsReceiveProcess|1.1 from process/eyematics-dsf-process-plugin-1.0.0.1-SNAPSHOT.jar://bpe/eyematics-receive-process.bpmn deployed with id 82d0fbfc-37ce-11f0-b8ad-0242ac1a0009
2025-05-23 14:07:34,693 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsInitiateProcess|1.0 state change: DRAFT -> EXCLUDED
2025-05-23 14:07:34,694 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspending process dsfdev_eyematicsInitiateProcess|1.0
2025-05-23 14:07:34,703 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsProvideProcess|1.0 state change: DRAFT -> EXCLUDED
2025-05-23 14:07:34,704 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspending process dsfdev_eyematicsProvideProcess|1.0
2025-05-23 14:07:34,710 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsReceiveProcess|1.0 state change: DRAFT -> EXCLUDED
2025-05-23 14:07:34,710 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspending process dsfdev_eyematicsReceiveProcess|1.0
2025-05-23 14:07:34,716 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsInitiateProcess|1.1 state change: NEW -> DRAFT
2025-05-23 14:07:34,716 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsProvideProcess|1.1 state change: NEW -> DRAFT
2025-05-23 14:07:34,716 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Process dsfdev_eyematicsReceiveProcess|1.1 state change: NEW -> DRAFT
2025-05-23 14:07:34,733 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspended process dsfdev_eyematicsInitiateProcess/1.0 (internal version 1) from bpe/eyematics-initiate-process.bpmn deployed 2025-05-23T14:05:08.040+0200
2025-05-23 14:07:34,734 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Active process dsfdev_eyematicsInitiateProcess/1.1 (internal version 2) from bpe/eyematics-initiate-process.bpmn deployed 2025-05-23T14:07:34.315+0200
2025-05-23 14:07:34,735 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspended process dsfdev_eyematicsProvideProcess/1.0 (internal version 1) from bpe/eyematics-provide-process.bpmn deployed 2025-05-23T14:05:08.287+0200
2025-05-23 14:07:34,735 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Active process dsfdev_eyematicsProvideProcess/1.1 (internal version 2) from bpe/eyematics-provide-process.bpmn deployed 2025-05-23T14:07:34.535+0200
2025-05-23 14:07:34,736 [main] DEBUG dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Suspended process dsfdev_eyematicsReceiveProcess/1.0 (internal version 1) from bpe/eyematics-receive-process.bpmn deployed 2025-05-23T14:05:08.354+0200
2025-05-23 14:07:34,736 [main] INFO  dev.dsf.bpe.plugin.BpmnProcessStateChangeServiceImpl - Active process dsfdev_eyematicsReceiveProcess/1.1 (internal version 2) from bpe/eyematics-receive-process.bpmn deployed 2025-05-23T14:07:34.600+0200
2025-05-23 14:07:34,746 [main] DEBUG dev.dsf.bpe.plugin.FhirResourceHandlerImpl - Executing process plugin resources bundle
2025-05-23 14:07:34,780 [main] DEBUG dev.dsf.fhir.client.AbstractFhirWebserviceClientJerseyWithRetry - First try ...
2025-05-23 14:07:43,035 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:43,036 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: null
2025-05-23 14:07:43,036 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: null
2025-05-23 14:07:43,036 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: null
2025-05-23 14:07:43,112 [main] INFO  org.eyematics.process.utils.listener.EyeMaticsProcessPluginDeploymentStateListener - Providing Public Key, If Not Exists.
2025-05-23 14:07:43,113 [main] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - Reading PublicKey Bundle on DSF FHIR server with baseUrl 'https://hrp/fhir' ...
2025-05-23 14:07:43,135 [main] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:43,143 [main] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - PublicKey Bundle already exists on DSF FHIR server with base Url 'https://hrp/fhir'
2025-05-23 14:07:43,144 [main] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - PublicKey Bundle has id 'Bundle/af0be539-a121-48e1-bf30-ab4572975ae8/_history/1'
2025-05-23 14:07:43,144 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Deploying process plugins [Done]
2025-05-23 14:07:43,144 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Starting process engine ...
2025-05-23 14:07:43,146 [main] INFO  dev.dsf.bpe.spring.config.PostStartupConfig - Starting process engine [Done]
2025-05-23 14:07:43,146 [main] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:07:43,147 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Task websocket subscription ...
2025-05-23 14:07:43,148 [main] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:07:43,148 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving QuestionnaireResponse websocket subscription ...
2025-05-23 14:07:43,180 [pool-7-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:43,188 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Subscription with id 0ddf7653-721f-4647-bb34-311e5642f047 found
2025-05-23 14:07:43,189 [pool-6-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:43,189 [pool-7-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new QuestionnaireResponse resources ...
2025-05-23 14:07:43,191 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Subscription with id b46716d2-6807-4d6c-bb2d-fdc6a5188c7f found
2025-05-23 14:07:43,192 [pool-6-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new Task resources ...
2025-05-23 14:07:43,194 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Executing search QuestionnaireResponse?_page=1&_count=20&_sort=_lastUpdated&status=completed
2025-05-23 14:07:43,205 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Executing search Task?_page=1&_count=20&_lastUpdated=gt2025-05-23T14%3A05%3A32.177&_sort=_lastUpdated&status=requested
2025-05-23 14:07:43,220 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'logoutService' as singleton resource with path '/bpe/logout'
2025-05-23 14:07:43,224 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'processService' as singleton resource with path '/bpe/Process'
2025-05-23 14:07:43,226 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'rootService' as singleton resource with path '/bpe/'
2025-05-23 14:07:43,226 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'staticResourcesService' as singleton resource with path '/bpe/static'
2025-05-23 14:07:43,229 [pool-7-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:43,233 [main] DEBUG dev.dsf.bpe.BpeJerseyApplication - Registering bean 'statusService' as singleton resource with path '/bpe/status'
2025-05-23 14:07:43,235 [pool-7-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Result bundle.total <= 0
2025-05-23 14:07:43,235 [pool-7-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new QuestionnaireResponse resources [Done]
2025-05-23 14:07:43,240 [pool-6-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:43,241 [pool-6-thread-1] DEBUG dev.dsf.bpe.subscription.ExistingResourceLoaderImpl - Result bundle.total <= 0
2025-05-23 14:07:43,242 [pool-6-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Downloading new Task resources [Done]
2025-05-23 14:07:43,242 [pool-7-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Connecting QuestionnaireResponse websocket to local DSF FHIR server, subscription: 0ddf7653-721f-4647-bb34-311e5642f047 ...
2025-05-23 14:07:43,244 [pool-6-thread-1] INFO  dev.dsf.bpe.subscription.FhirConnectorImpl - Connecting Task websocket to local DSF FHIR server, subscription: b46716d2-6807-4d6c-bb2d-fdc6a5188c7f ...
2025-05-23 14:07:43,255 [pool-6-thread-1] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Connecting to websocket wss://hrp/fhir/ws and waiting for connection
2025-05-23 14:07:43,255 [pool-7-thread-1] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Connecting to websocket wss://hrp/fhir/ws and waiting for connection
2025-05-23 14:07:43,429 [Grizzly(1)] INFO  dev.dsf.fhir.client.ClientEndpoint - Websocket open, session fe63c908-c73a-44db-8a36-aff6bd8441dd
2025-05-23 14:07:43,429 [Grizzly(1)] INFO  dev.dsf.fhir.client.ClientEndpoint - Websocket open, session efab94e6-0f74-45b0-b07c-31de453eeb8a
2025-05-23 14:07:43,444 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session efab94e6-0f74-45b0-b07c-31de453eeb8a: bound 0ddf7653-721f-4647-bb34-311e5642f047
2025-05-23 14:07:43,444 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session fe63c908-c73a-44db-8a36-aff6bd8441dd: bound b46716d2-6807-4d6c-bb2d-fdc6a5188c7f
2025-05-23 14:07:43,445 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Bound received
2025-05-23 14:07:43,445 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Bound received
2025-05-23 14:07:43,456 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@576d4810{/bpe,null,AVAILABLE}
2025-05-23 14:07:43,457 [main] INFO  org.eclipse.jetty.webapp.WebAppContext - WebApp@1939100990 at http://ServerConnector@5e13f156{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}/bpe
2025-05-23 14:07:43,458 [main] INFO  org.eclipse.jetty.webapp.WebAppContext - WebApp@1939100990 at http://ServerConnector@f2a1813{HTTP/1.1, (http/1.1)}{127.0.0.1:10000}/bpe
2025-05-23 14:07:43,461 [main] INFO  org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@5e13f156{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2025-05-23 14:07:43,465 [main] INFO  org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@f2a1813{HTTP/1.1, (http/1.1)}{127.0.0.1:10000}
2025-05-23 14:07:43,467 [main] INFO  org.eclipse.jetty.server.Server - Started Server@51efb731{STARTING}[11.0.25,sto=0] @17542ms
2025-05-23 14:07:50,361 [Grizzly(1)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session fe63c908-c73a-44db-8a36-aff6bd8441dd: {"resourceType":"Task","id":"c4f436df-53fc-481d-a65a-e6ee2e335396","meta":{"versionId":"1","lastUpdated":"2025-05-23T14:07:50.349+02:00","profile":["http://dsf.dev/fhir/StructureDefinition/eyematics-provide-process-structure-definition|1.1"]},"instantiatesCanonical":"http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1","status":"requested","intent":"order","authoredOn":"2025-05-23T14:07:50+02:00","requester":{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"dic.dsf.test"}},"restriction":{"recipient":[{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"hrp.dsf.test"}}]},"input":[{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"message-name"}]},"valueString":"provideProcessStartEventMessage"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"business-key"}]},"valueString":"38d95460-2a95-4d96-90ac-351c8bf8b373"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"correlation-key"}]},"valueString":"da41d2a4-ac2f-4688-9a96-296d2a7aa4b5"}]}
2025-05-23 14:07:50,364 [pool-2-thread-1] DEBUG dev.dsf.bpe.subscription.ConcurrentSubscriptionHandlerFactory - executing onResource for Task with id: Task/c4f436df-53fc-481d-a65a-e6ee2e335396/_history/1
2025-05-23 14:07:50,669 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:50,674 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://hrp/fhir/Task/c4f436df-53fc-481d-a65a-e6ee2e335396/_history/2
2025-05-23 14:07:50,675 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"2"
2025-05-23 14:07:50,678 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:50 GMT
2025-05-23 14:07:51,003 [pool-2-thread-1] INFO  dev.dsf.bpe.listener.StartListener - Starting process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 at 2025-05-23T14:07:50+02:00 [task: https://hrp/fhir/Task/c4f436df-53fc-481d-a65a-e6ee2e335396, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: da41d2a4-ac2f-4688-9a96-296d2a7aa4b5, message: provideProcessStartEventMessage]
2025-05-23 14:07:51,048 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.ReadProvideDataTask - Reading Data from FHIR-Repository...
2025-05-23 14:07:51,166 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.ReadProvideDataTask - Response Code -> 200
2025-05-23 14:07:51,941 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.ReadProvideDataTask - Data -> org.hl7.fhir.r4.model.Bundle@763c7414
2025-05-23 14:07:52,346 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.CreateDataBundleTask - -> something to bundle
2025-05-23 14:07:52,347 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.CreateDataBundleTask - -> Amount of Items: 50
2025-05-23 14:07:52,653 [pool-2-thread-1] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - Configuring KeyProvider with private-key from '/run/secrets/hrp_private_key.pem' and public-key from '/run/secrets/hrp_public_key.pem'
2025-05-23 14:07:52,682 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - -> try to get public-key ....
2025-05-23 14:07:52,683 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - EncryptProvideDataTask: Request-Organization -> dic.dsf.test
2025-05-23 14:07:52,686 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - EncryptProvideDataTask: Recipient-Organization -> hrp.dsf.test
2025-05-23 14:07:52,722 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:52,733 [pool-2-thread-1] INFO  org.eyematics.process.utils.crypto.KeyProviderImpl - Reading PublicKey Bundle on DSF FHIR server with baseUrl 'https://dic/fhir' ...
2025-05-23 14:07:52,832 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:52,840 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.EncryptDataBundleTask - -> something to encrypt
2025-05-23 14:07:53,127 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.SelectReceiveTargetTask - -> something to select
2025-05-23 14:07:53,145 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,167 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,200 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.SelectReceiveTargetTask - -> https://dic/fhir
2025-05-23 14:07:53,202 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - -> something to store
2025-05-23 14:07:53,220 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,238 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,708 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 201: Created
2025-05-23 14:07:53,709 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://hrp/fhir/Binary/b624249c-4952-4d16-9b71-1494723863cd/_history/1
2025-05-23 14:07:53,709 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"1"
2025-05-23 14:07:53,709 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:53 GMT
2025-05-23 14:07:53,710 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - Target-Organization-Value -> dic.dsf.test
2025-05-23 14:07:53,710 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - Local-Organization-Value -> hrp.dsf.test
2025-05-23 14:07:53,710 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - IdType -> https://hrp/fhir/Binary/b624249c-4952-4d16-9b71-1494723863cd/_history/1
2025-05-23 14:07:53,732 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,735 [pool-2-thread-1] INFO  org.eyematics.process.service.provide.StoreProvideDataTask - Security Context -> Organization/9fa62434-ec3d-49a5-a36d-a8ae3c4eec12
2025-05-23 14:07:53,739 [pool-2-thread-1] INFO  org.eyematics.process.message.provide.ProvideDataMessageTask - -> something to send
2025-05-23 14:07:53,767 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:53,770 [pool-2-thread-1] INFO  dev.dsf.bpe.v1.activity.AbstractTaskMessageSend - Sending task http://dsf.dev/bpe/Process/eyematicsReceiveProcess|1.1 [recipient: dic.dsf.test, endpoint: dic.dsf.test_Endpoint, businessKey: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlationKey: da41d2a4-ac2f-4688-9a96-296d2a7aa4b5, message: receiveProcessStartEventMessage] ...
2025-05-23 14:07:54,137 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 201: Created
2025-05-23 14:07:54,138 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://dic/fhir/Task/96f21ced-12e0-438f-bc28-5ecae7ae75ee/_history/1
2025-05-23 14:07:54,139 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"1"
2025-05-23 14:07:54,139 [pool-2-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:53 GMT
2025-05-23 14:07:54,140 [pool-2-thread-1] INFO  dev.dsf.bpe.v1.activity.AbstractTaskMessageSend - Task http://dsf.dev/bpe/Process/eyematicsReceiveProcess|1.1 send [task: https://dic/fhir/Task/96f21ced-12e0-438f-bc28-5ecae7ae75ee]
2025-05-23 14:07:54,168 [pool-2-thread-1] INFO  org.eyematics.process.utils.listener.SetCorrelationKeyListener - SetCorrelationKeyListener -> Adding Listener...
2025-05-23 14:07:55,370 [Grizzly(2)] DEBUG dev.dsf.fhir.client.ClientEndpoint - Websocket message received, session fe63c908-c73a-44db-8a36-aff6bd8441dd: {"resourceType":"Task","id":"55cf672e-9503-4fa5-b23b-ea23ea5e256b","meta":{"versionId":"1","lastUpdated":"2025-05-23T14:07:55.337+02:00","profile":["http://dsf.dev/fhir/StructureDefinition/eyematics-provide-process-receive-receipt-structure-definition|1.1"]},"instantiatesCanonical":"http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1","status":"requested","intent":"order","authoredOn":"2025-05-23T14:07:55+02:00","requester":{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"dic.dsf.test"}},"restriction":{"recipient":[{"type":"Organization","identifier":{"system":"http://dsf.dev/sid/organization-identifier","value":"hrp.dsf.test"}}]},"input":[{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"message-name"}]},"valueString":"provideProcessReceiveReceiptEventMessage"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"business-key"}]},"valueString":"38d95460-2a95-4d96-90ac-351c8bf8b373"},{"type":{"coding":[{"system":"http://dsf.dev/fhir/CodeSystem/bpmn-message","code":"correlation-key"}]},"valueString":"da41d2a4-ac2f-4688-9a96-296d2a7aa4b5"}]}
2025-05-23 14:07:55,373 [pool-2-thread-2] DEBUG dev.dsf.bpe.subscription.ConcurrentSubscriptionHandlerFactory - executing onResource for Task with id: Task/55cf672e-9503-4fa5-b23b-ea23ea5e256b/_history/1
2025-05-23 14:07:55,440 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:55,441 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://hrp/fhir/Task/55cf672e-9503-4fa5-b23b-ea23ea5e256b/_history/2
2025-05-23 14:07:55,441 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"2"
2025-05-23 14:07:55,441 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:55 GMT
2025-05-23 14:07:55,498 [pool-2-thread-2] INFO  dev.dsf.bpe.listener.ContinueListener - Continuing process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 at 2025-05-23T14:07:55+02:00 [task: https://hrp/fhir/Task/55cf672e-9503-4fa5-b23b-ea23ea5e256b, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: da41d2a4-ac2f-4688-9a96-296d2a7aa4b5, message: provideProcessReceiveReceiptEventMessage]
2025-05-23 14:07:55,502 [pool-2-thread-2] INFO  org.eyematics.process.service.provide.StoreDataReceiptTask - -> nothing to store, yet
2025-05-23 14:07:55,504 [pool-2-thread-2] INFO  org.eyematics.process.service.provide.DeleteProvideDataTask - -> something to delete
2025-05-23 14:07:55,507 [pool-2-thread-2] INFO  org.eyematics.process.service.provide.DeleteProvideDataTask - -> nothing to delete
2025-05-23 14:07:55,509 [pool-2-thread-2] DEBUG dev.dsf.bpe.listener.EndListener - Updating Task https://hrp/fhir/Task/55cf672e-9503-4fa5-b23b-ea23ea5e256b, new status: completed
2025-05-23 14:07:55,562 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:55,563 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://hrp/fhir/Task/55cf672e-9503-4fa5-b23b-ea23ea5e256b/_history/3
2025-05-23 14:07:55,563 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"3"
2025-05-23 14:07:55,564 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:55 GMT
2025-05-23 14:07:55,565 [pool-2-thread-2] INFO  dev.dsf.bpe.listener.EndListener - Process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 finished at 2025-05-23T14:07:55+02:00 [task: https://hrp/fhir/Task/55cf672e-9503-4fa5-b23b-ea23ea5e256b, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: da41d2a4-ac2f-4688-9a96-296d2a7aa4b5]
2025-05-23 14:07:55,565 [pool-2-thread-2] DEBUG dev.dsf.bpe.listener.EndListener - Updating Task https://hrp/fhir/Task/c4f436df-53fc-481d-a65a-e6ee2e335396, new status: completed
2025-05-23 14:07:55,618 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 200: OK
2025-05-23 14:07:55,618 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Location: https://hrp/fhir/Task/c4f436df-53fc-481d-a65a-e6ee2e335396/_history/3
2025-05-23 14:07:55,619 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header ETag: W/"3"
2025-05-23 14:07:55,619 [pool-2-thread-2] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP header Last-Modified: Fri, 23 May 2025 12:07:55 GMT
2025-05-23 14:07:55,619 [pool-2-thread-2] INFO  dev.dsf.bpe.listener.EndListener - Process http://dsf.dev/bpe/Process/eyematicsProvideProcess|1.1 finished at 2025-05-23T14:07:55+02:00 [task: https://hrp/fhir/Task/c4f436df-53fc-481d-a65a-e6ee2e335396, requester: dic.dsf.test, business-key: 38d95460-2a95-4d96-90ac-351c8bf8b373, correlation-key: da41d2a4-ac2f-4688-9a96-296d2a7aa4b5]
2025-05-23 14:09:04,382 [Thread-1] INFO  dev.dsf.common.jetty.JettyServer - Stopping jetty server ...
2025-05-23 14:09:04,384 [Thread-1] INFO  org.eclipse.jetty.server.Server - Stopped Server@51efb731{STOPPING}[11.0.25,sto=0]
2025-05-23 14:09:04,389 [Thread-1] INFO  org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@5e13f156{HTTP/1.1, (http/1.1)}{0.0.0.0:8080}
2025-05-23 14:09:04,393 [Thread-1] INFO  org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@f2a1813{HTTP/1.1, (http/1.1)}{127.0.0.1:10000}
2025-05-23 14:09:04,396 [Grizzly(2)] WARN  dev.dsf.fhir.client.ClientEndpoint - Websocket closed, session fe63c908-c73a-44db-8a36-aff6bd8441dd: 1006 - Closed abnormally.
2025-05-23 14:09:04,396 [Grizzly(2)] WARN  dev.dsf.fhir.client.ClientEndpoint - Websocket closed, session efab94e6-0f74-45b0-b07c-31de453eeb8a: 1006 - Closed abnormally.
2025-05-23 14:09:04,397 [Grizzly(2)] INFO  dev.dsf.fhir.client.ClientEndpoint - Trying to reconnect websocket
2025-05-23 14:09:04,398 [Grizzly(2)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Closing websocket wss://hrp/fhir/ws
2025-05-23 14:09:04,397 [Grizzly(2)] INFO  dev.dsf.fhir.client.ClientEndpoint - Trying to reconnect websocket
2025-05-23 14:09:04,399 [Grizzly(2)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Closing websocket wss://hrp/fhir/ws
2025-05-23 14:09:04,400 [Grizzly(2)] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:09:04,400 [Grizzly(2)] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Subscription and connecting to websocket
2025-05-23 14:09:04,404 [Thread-1] INFO  org.eclipse.jetty.server.handler.ContextHandler.bpe - Closing Spring root WebApplicationContext
2025-05-23 14:09:04,404 [Grizzly(2)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Websocket closed: CLOSED_ABNORMALLY - Closed abnormally.
2025-05-23 14:09:04,404 [pool-8-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving Task websocket subscription ...
2025-05-23 14:09:04,404 [Grizzly(2)] DEBUG dev.dsf.fhir.client.WebsocketClientTyrus - Websocket closed: CLOSED_ABNORMALLY - Closed abnormally.
2025-05-23 14:09:04,405 [pool-9-thread-1] DEBUG dev.dsf.bpe.subscription.FhirConnectorImpl - Retrieving QuestionnaireResponse websocket subscription ...
2025-05-23 14:09:04,437 [pool-8-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 502: Bad Gateway
2025-05-23 14:09:04,439 [pool-8-thread-1] WARN  dev.dsf.fhir.client.FhirWebserviceClientJersey - Request failed: org.glassfish.jersey.message.internal.MessageBodyProviderNotFoundException - MessageBodyReader not found for media type=text/html, type=class org.hl7.fhir.r4.model.OperationOutcome, genericType=class org.hl7.fhir.r4.model.OperationOutcome.
2025-05-23 14:09:04,441 [pool-8-thread-1] WARN  dev.dsf.bpe.subscription.FhirConnectorImpl - Error while retrieving Task websocket subscription (HTTP 502 Bad Gateway), trying again in 5000 ms (retry 1)
2025-05-23 14:09:04,444 [Thread-1] INFO  org.eclipse.jetty.server.handler.ContextHandler - Stopped o.e.j.w.WebAppContext@576d4810{/bpe,null,STOPPED}
2025-05-23 14:09:04,456 [pool-9-thread-1] DEBUG dev.dsf.fhir.client.FhirWebserviceClientJersey - HTTP 502: Bad Gateway
