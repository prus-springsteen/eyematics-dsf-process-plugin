<ActivityDefinition xmlns="http://hl7.org/fhir">
    <meta>
        <tag>
            <system value="http://dsf.dev/fhir/CodeSystem/read-access-tag" />
            <code value="ALL" />
        </tag>
    </meta>
    <!-- PROVIDE PROCESS -->
    <extension url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization">
        <extension url="message-name">
            <valueString value="provideProcessStartEventMessage" />
        </extension>
        <extension url="task-profile">
            <valueCanonical value="http://eyematics.org/fhir/StructureDefinition/eyematics-provide-process-structure-definition|#{version}" />
        </extension>
        <extension url="requester">
            <valueCoding>
                <extension
                        url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-parent-organization-role">
                    <extension url="parent-organization">
                        <valueIdentifier>
                            <system value="http://dsf.dev/sid/organization-identifier"/>
                            <value value="eyematics.org"/>
                        </valueIdentifier>
                    </extension>
                    <extension url="organization-role">
                        <valueCoding>
                            <system value="http://dsf.dev/fhir/CodeSystem/organization-role"/>
                            <code value="DIC"/>
                        </valueCoding>
                    </extension>
                </extension>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization"/>
                <code value="LOCAL_ROLE"/>
            </valueCoding>
        </extension>
        <extension url="requester">
            <valueCoding>
                <extension
                        url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-parent-organization-role">
                    <extension url="parent-organization">
                        <valueIdentifier>
                            <system value="http://dsf.dev/sid/organization-identifier"/>
                            <value value="eyematics.org"/>
                        </valueIdentifier>
                    </extension>
                    <extension url="organization-role">
                        <valueCoding>
                            <system value="http://dsf.dev/fhir/CodeSystem/organization-role"/>
                            <code value="DIC"/>
                        </valueCoding>
                    </extension>
                </extension>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization"/>
                <code value="REMOTE_ROLE"/>
            </valueCoding>
        </extension>
        <extension url="recipient">
            <valueCoding>
                <extension
                    url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-parent-organization-role">
                <extension url="parent-organization">
                    <valueIdentifier>
                        <system value="http://dsf.dev/sid/organization-identifier"/>
                        <value value="eyematics.org"/>
                    </valueIdentifier>
                </extension>
                <extension url="organization-role">
                    <valueCoding>
                        <system value="http://dsf.dev/fhir/CodeSystem/organization-role"/>
                        <code value="DIC"/>
                    </valueCoding>
                </extension>
            </extension>
            <system value="http://dsf.dev/fhir/CodeSystem/process-authorization"/>
            <code value="LOCAL_ROLE"/>
        </valueCoding>
        </extension>
    </extension>
    <!-- ACKNOWLEDGE PROCESS -->
    <extension url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization">
        <extension url="message-name">
            <valueString value="provideProcessReceiveReceiptEventMessage" />
        </extension>
        <extension url="task-profile">
            <valueCanonical value="http://eyematics.org/fhir/StructureDefinition/eyematics-provide-process-receive-receipt-structure-definition|#{version}" />
        </extension>
        <extension url="requester">
            <valueCoding>
                <extension
                        url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-parent-organization-role">
                    <extension url="parent-organization">
                        <valueIdentifier>
                            <system value="http://dsf.dev/sid/organization-identifier"/>
                            <value value="eyematics.org"/>
                        </valueIdentifier>
                    </extension>
                    <extension url="organization-role">
                        <valueCoding>
                            <system value="http://dsf.dev/fhir/CodeSystem/organization-role"/>
                            <code value="DIC"/>
                        </valueCoding>
                    </extension>
                </extension>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization"/>
                <code value="LOCAL_ROLE"/>
            </valueCoding>
        </extension>
        <extension url="requester">
            <valueCoding>
                <extension
                        url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-parent-organization-role">
                    <extension url="parent-organization">
                        <valueIdentifier>
                            <system value="http://dsf.dev/sid/organization-identifier"/>
                            <value value="eyematics.org"/>
                        </valueIdentifier>
                    </extension>
                    <extension url="organization-role">
                        <valueCoding>
                            <system value="http://dsf.dev/fhir/CodeSystem/organization-role"/>
                            <code value="DIC"/>
                        </valueCoding>
                    </extension>
                </extension>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization"/>
                <code value="REMOTE_ROLE"/>
            </valueCoding>
        </extension>
        <extension url="recipient">
            <valueCoding>
                <extension
                        url="http://dsf.dev/fhir/StructureDefinition/extension-process-authorization-parent-organization-role">
                    <extension url="parent-organization">
                        <valueIdentifier>
                            <system value="http://dsf.dev/sid/organization-identifier"/>
                            <value value="eyematics.org"/>
                        </valueIdentifier>
                    </extension>
                    <extension url="organization-role">
                        <valueCoding>
                            <system value="http://dsf.dev/fhir/CodeSystem/organization-role"/>
                            <code value="DIC"/>
                        </valueCoding>
                    </extension>
                </extension>
                <system value="http://dsf.dev/fhir/CodeSystem/process-authorization"/>
                <code value="LOCAL_ROLE"/>
            </valueCoding>
        </extension>
    </extension>
    <url value="http://eyematics.org/bpe/Process/eyematicsProvideProcess" />
    <!-- version managed by bpe -->
    <version value="#{version}" />
    <name value="EyeMatics Provide Process" />
    <title value="EyeMatics Provide Process" />
    <subtitle value="Process to provide the EyeMatics data" />
    <!-- status managed by bpe -->
    <status value="unknown" />
    <experimental value="false" />
    <!-- date managed by bpe -->
    <date value="#{date}" />
    <publisher value="EyeMatics" />
    <contact>
        <name value="EyeMatics DSF Process Plugin" />
        <telecom>
            <system value="email" />
            <value value="sascha.prus@ukmuenster.de" />
        </telecom>
    </contact>
    <description value="Process to provide the EyeMatics data." />
    <kind value="Task" />
</ActivityDefinition>